{"ast":null,"code":"var _jsxFileName = \"/Users/mamadouourydiallo/ADFI/src/components/EnhancedCommentSystem.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { MessageCircle, Send, User, Lock, AtSign, Clock, Eye, EyeOff, Search } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { commentService } from '../services/commentService';\nimport UserTagging from './UserTagging';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EnhancedCommentSystem = ({\n  requestId,\n  comments,\n  onCommentAdded\n}) => {\n  _s();\n  var _user$name2;\n  const {\n    user\n  } = useAuth();\n  const [commentText, setCommentText] = useState('');\n  const [isInternal, setIsInternal] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showUserTagging, setShowUserTagging] = useState(false);\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [showInternalOnly, setShowInternalOnly] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const textareaRef = useRef(null);\n\n  // Filter comments based on search and internal visibility\n  const filteredComments = comments.filter(comment => {\n    const matchesSearch = comment.commentText.toLowerCase().includes(searchTerm.toLowerCase()) || comment.userName.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesVisibility = !showInternalOnly || comment.isInternal;\n    return matchesSearch && matchesVisibility;\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!commentText.trim() || isSubmitting || !user) return;\n    setIsSubmitting(true);\n    try {\n      var _user$name;\n      await commentService.addComment({\n        requestId,\n        userId: user.id,\n        userName: user.name,\n        userAvatar: ((_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || '',\n        commentText: commentText.trim(),\n        mentionedUsers,\n        isInternal\n      });\n      setCommentText('');\n      setMentionedUsers([]);\n      setIsInternal(false);\n      onCommentAdded();\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleTextChange = e => {\n    const text = e.target.value;\n    setCommentText(text);\n\n    // Check for @ mentions\n    const lastAtIndex = text.lastIndexOf('@');\n    if (lastAtIndex !== -1 && lastAtIndex === text.length - 1) {\n      setShowUserTagging(true);\n    } else {\n      setShowUserTagging(false);\n    }\n  };\n  const handleUserSelect = (userId, userName) => {\n    var _textareaRef$current;\n    const newText = commentText.slice(0, -1) + `@${userName} `;\n    setCommentText(newText);\n    setMentionedUsers(prev => [...prev, userId]);\n    setShowUserTagging(false);\n    (_textareaRef$current = textareaRef.current) === null || _textareaRef$current === void 0 ? void 0 : _textareaRef$current.focus();\n  };\n  const formatDate = date => {\n    return new Date(date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const canAddComments = user && (user.can_create_requests || user.can_approve_reject || user.can_disburse || !user.view_only_access);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"flex items-center justify-between\",\n      initial: {\n        opacity: 0,\n        y: -20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.4\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"p-3 rounded-2xl bg-gradient-to-br from-green-500 via-emerald-600 to-teal-700 text-white shadow-lg\",\n          whileHover: {\n            scale: 1.05,\n            rotate: 5\n          },\n          transition: {\n            duration: 0.2\n          },\n          children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold bg-gradient-to-r from-gray-900 via-green-800 to-teal-800 bg-clip-text text-transparent\",\n            children: \"Comments & Discussion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 font-medium\",\n            children: [filteredComments.length, \" comments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"relative\",\n          initial: {\n            opacity: 0,\n            scale: 0.8\n          },\n          animate: {\n            opacity: 1,\n            scale: 1\n          },\n          transition: {\n            delay: 0.2,\n            duration: 0.3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search comments...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"pl-10 pr-4 py-2 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          onClick: () => setShowInternalOnly(!showInternalOnly),\n          className: `flex items-center space-x-2 px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${showInternalOnly ? 'bg-yellow-100 text-yellow-800 border border-yellow-300' : 'bg-gray-100 text-gray-600 border border-gray-300 hover:bg-gray-200'}`,\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          children: [showInternalOnly ? /*#__PURE__*/_jsxDEV(EyeOff, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: showInternalOnly ? 'Internal Only' : 'All Comments'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), canAddComments && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 rounded-3xl p-6 border-2 border-green-200 shadow-xl\",\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        delay: 0.1,\n        duration: 0.4\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white font-bold shadow-lg\",\n              children: (user === null || user === void 0 ? void 0 : (_user$name2 = user.name) === null || _user$name2 === void 0 ? void 0 : _user$name2.charAt(0)) || /*#__PURE__*/_jsxDEV(User, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              ref: textareaRef,\n              value: commentText,\n              onChange: handleTextChange,\n              placeholder: \"Add your comment... Use @username to mention team members\",\n              className: \"w-full p-4 border-2 border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-4 focus:ring-green-500/20 focus:border-green-500 bg-white/90 backdrop-blur-sm shadow-lg transition-all duration-300\",\n              rows: 3,\n              disabled: isSubmitting\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), showUserTagging && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-full left-0 right-0 z-10 mt-1\",\n              children: /*#__PURE__*/_jsxDEV(UserTagging, {\n                onUserSelect: handleUserSelect,\n                onClose: () => setShowUserTagging(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(motion.label, {\n              className: \"flex items-center space-x-2 cursor-pointer group\",\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: isInternal,\n                  onChange: e => setIsInternal(e.target.checked),\n                  className: \"sr-only\",\n                  disabled: isSubmitting\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-5 h-5 rounded-lg border-2 transition-all duration-200 ${isInternal ? 'bg-yellow-500 border-yellow-500' : 'bg-white border-gray-300 group-hover:border-yellow-400'}`,\n                  children: isInternal && /*#__PURE__*/_jsxDEV(motion.div, {\n                    initial: {\n                      scale: 0\n                    },\n                    animate: {\n                      scale: 1\n                    },\n                    transition: {\n                      duration: 0.2\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Lock, {\n                      className: \"w-3 h-3 text-white m-0.5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"Internal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this), mentionedUsers.length > 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n              className: \"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs\",\n              initial: {\n                scale: 0,\n                opacity: 0\n              },\n              animate: {\n                scale: 1,\n                opacity: 1\n              },\n              transition: {\n                duration: 0.3\n              },\n              children: [/*#__PURE__*/_jsxDEV(AtSign, {\n                className: \"w-3 h-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [mentionedUsers.length, \" mentioned\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              type: \"submit\",\n              disabled: !commentText.trim() || isSubmitting,\n              className: \"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-700 text-white rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:from-green-700 hover:to-emerald-800 transition-all duration-300 shadow-lg hover:shadow-xl\",\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              children: [isSubmitting ? /*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full\",\n                animate: {\n                  rotate: 360\n                },\n                transition: {\n                  duration: 1,\n                  repeat: Infinity,\n                  ease: \"linear\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Send, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: isSubmitting ? 'Posting...' : 'Post'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: filteredComments.length === 0 ? /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"text-center py-12 bg-gray-50 rounded-3xl border-2 border-gray-200\",\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          exit: {\n            opacity: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n            className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-500 mb-2\",\n            children: \"No Comments Yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"Be the first to start the discussion!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this) : filteredComments.map((comment, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n          className: `bg-white rounded-2xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${comment.isInternal ? 'border-yellow-200 bg-gradient-to-r from-yellow-50 to-amber-50' : 'border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50'}`,\n          initial: {\n            opacity: 0,\n            y: 20,\n            scale: 0.95\n          },\n          animate: {\n            opacity: 1,\n            y: 0,\n            scale: 1\n          },\n          exit: {\n            opacity: 0,\n            y: -20,\n            scale: 0.95\n          },\n          transition: {\n            duration: 0.4,\n            delay: index * 0.1\n          },\n          whileHover: {\n            scale: 1.01,\n            y: -2\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${comment.isInternal ? 'bg-gradient-to-br from-yellow-500 to-amber-600' : 'bg-gradient-to-br from-blue-500 to-indigo-600'}`,\n                children: comment.userAvatar || comment.userName.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-bold text-gray-900\",\n                    children: comment.userName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 25\n                  }, this), comment.isInternal && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium\",\n                    children: [/*#__PURE__*/_jsxDEV(Lock, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Internal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this), comment.mentionedUsers && comment.mentionedUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium\",\n                    children: [/*#__PURE__*/_jsxDEV(AtSign, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [comment.mentionedUsers.length, \" mentioned\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 text-sm text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatDate(comment.createdAt)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 leading-relaxed\",\n                children: comment.commentText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this)\n        }, comment.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-6 border border-gray-200\",\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        delay: 0.3,\n        duration: 0.4\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: comments.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Comments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-yellow-700\",\n              children: comments.filter(c => c.isInternal).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Internal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-blue-700\",\n              children: comments.filter(c => !c.isInternal).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Public\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), comments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Last comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-gray-900\",\n            children: formatDate(comments[comments.length - 1].createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(EnhancedCommentSystem, \"29ZKfr3RJBGueb/dN7b9Rx5vGGU=\", false, function () {\n  return [useAuth];\n});\n_c = EnhancedCommentSystem;\nexport default EnhancedCommentSystem;\nvar _c;\n$RefreshReg$(_c, \"EnhancedCommentSystem\");","map":{"version":3,"names":["React","useState","useRef","motion","AnimatePresence","MessageCircle","Send","User","Lock","AtSign","Clock","Eye","EyeOff","Search","useAuth","commentService","UserTagging","jsxDEV","_jsxDEV","EnhancedCommentSystem","requestId","comments","onCommentAdded","_s","_user$name2","user","commentText","setCommentText","isInternal","setIsInternal","isSubmitting","setIsSubmitting","showUserTagging","setShowUserTagging","mentionedUsers","setMentionedUsers","showInternalOnly","setShowInternalOnly","searchTerm","setSearchTerm","textareaRef","filteredComments","filter","comment","matchesSearch","toLowerCase","includes","userName","matchesVisibility","handleSubmit","e","preventDefault","trim","_user$name","addComment","userId","id","name","userAvatar","charAt","error","console","handleTextChange","text","target","value","lastAtIndex","lastIndexOf","length","handleUserSelect","_textareaRef$current","newText","slice","prev","current","focus","formatDate","date","Date","toLocaleDateString","month","day","hour","minute","canAddComments","can_create_requests","can_approve_reject","can_disburse","view_only_access","className","children","div","initial","opacity","y","animate","transition","duration","whileHover","scale","rotate","fileName","_jsxFileName","lineNumber","columnNumber","delay","type","placeholder","onChange","button","onClick","whileTap","onSubmit","ref","rows","disabled","onUserSelect","onClose","label","checked","repeat","Infinity","ease","exit","map","index","createdAt","c","_c","$RefreshReg$"],"sources":["/Users/mamadouourydiallo/ADFI/src/components/EnhancedCommentSystem.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  MessageCircle,\n  Send,\n  User,\n  Lock,\n  AtSign,\n  Clock,\n  Eye,\n  EyeOff,\n  Plus,\n  Filter,\n  Search\n} from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { RequestComment } from '../types/withdrawalTypes';\nimport { commentService } from '../services/commentService';\nimport UserTagging from './UserTagging';\n\ninterface EnhancedCommentSystemProps {\n  requestId: string;\n  comments: RequestComment[];\n  onCommentAdded: () => void;\n}\n\nconst EnhancedCommentSystem: React.FC<EnhancedCommentSystemProps> = ({\n  requestId,\n  comments,\n  onCommentAdded\n}) => {\n  const { user } = useAuth();\n  const [commentText, setCommentText] = useState('');\n  const [isInternal, setIsInternal] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showUserTagging, setShowUserTagging] = useState(false);\n  const [mentionedUsers, setMentionedUsers] = useState<string[]>([]);\n  const [showInternalOnly, setShowInternalOnly] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Filter comments based on search and internal visibility\n  const filteredComments = comments.filter(comment => {\n    const matchesSearch = comment.commentText.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         comment.userName.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesVisibility = !showInternalOnly || comment.isInternal;\n    return matchesSearch && matchesVisibility;\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!commentText.trim() || isSubmitting || !user) return;\n\n    setIsSubmitting(true);\n    try {\n      await commentService.addComment({\n        requestId,\n        userId: user.id,\n        userName: user.name,\n        userAvatar: user.name?.charAt(0) || '',\n        commentText: commentText.trim(),\n        mentionedUsers,\n        isInternal\n      });\n\n      setCommentText('');\n      setMentionedUsers([]);\n      setIsInternal(false);\n      onCommentAdded();\n    } catch (error) {\n      console.error('Error adding comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const text = e.target.value;\n    setCommentText(text);\n\n    // Check for @ mentions\n    const lastAtIndex = text.lastIndexOf('@');\n    if (lastAtIndex !== -1 && lastAtIndex === text.length - 1) {\n      setShowUserTagging(true);\n    } else {\n      setShowUserTagging(false);\n    }\n  };\n\n  const handleUserSelect = (userId: string, userName: string) => {\n    const newText = commentText.slice(0, -1) + `@${userName} `;\n    setCommentText(newText);\n    setMentionedUsers(prev => [...prev, userId]);\n    setShowUserTagging(false);\n    textareaRef.current?.focus();\n  };\n\n  const formatDate = (date: Date | string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const canAddComments = user && (\n    user.can_create_requests || \n    user.can_approve_reject || \n    user.can_disburse || \n    !user.view_only_access\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <motion.div\n        className=\"flex items-center justify-between\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.4 }}\n      >\n        <div className=\"flex items-center space-x-4\">\n          <motion.div\n            className=\"p-3 rounded-2xl bg-gradient-to-br from-green-500 via-emerald-600 to-teal-700 text-white shadow-lg\"\n            whileHover={{ scale: 1.05, rotate: 5 }}\n            transition={{ duration: 0.2 }}\n          >\n            <MessageCircle className=\"w-6 h-6\" />\n          </motion.div>\n          <div>\n            <h3 className=\"text-2xl font-bold bg-gradient-to-r from-gray-900 via-green-800 to-teal-800 bg-clip-text text-transparent\">\n              Comments & Discussion\n            </h3>\n            <p className=\"text-sm text-gray-600 font-medium\">{filteredComments.length} comments</p>\n          </div>\n        </div>\n\n        {/* Filter Controls */}\n        <div className=\"flex items-center space-x-3\">\n          <motion.div\n            className=\"relative\"\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ delay: 0.2, duration: 0.3 }}\n          >\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search comments...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n            />\n          </motion.div>\n\n          <motion.button\n            onClick={() => setShowInternalOnly(!showInternalOnly)}\n            className={`flex items-center space-x-2 px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${\n              showInternalOnly\n                ? 'bg-yellow-100 text-yellow-800 border border-yellow-300'\n                : 'bg-gray-100 text-gray-600 border border-gray-300 hover:bg-gray-200'\n            }`}\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            {showInternalOnly ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n            <span>{showInternalOnly ? 'Internal Only' : 'All Comments'}</span>\n          </motion.button>\n        </div>\n      </motion.div>\n\n      {/* Comment Form */}\n      {canAddComments && (\n        <motion.div\n          className=\"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 rounded-3xl p-6 border-2 border-green-200 shadow-xl\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1, duration: 0.4 }}\n        >\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Compact horizontal layout */}\n            <div className=\"flex items-start space-x-4\">\n              {/* User Avatar */}\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white font-bold shadow-lg\">\n                  {user?.name?.charAt(0) || <User className=\"w-5 h-5\" />}\n                </div>\n              </div>\n\n              {/* Comment Input */}\n              <div className=\"flex-1 relative\">\n                <textarea\n                  ref={textareaRef}\n                  value={commentText}\n                  onChange={handleTextChange}\n                  placeholder=\"Add your comment... Use @username to mention team members\"\n                  className=\"w-full p-4 border-2 border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-4 focus:ring-green-500/20 focus:border-green-500 bg-white/90 backdrop-blur-sm shadow-lg transition-all duration-300\"\n                  rows={3}\n                  disabled={isSubmitting}\n                />\n\n                {/* User Tagging Dropdown */}\n                {showUserTagging && (\n                  <div className=\"absolute top-full left-0 right-0 z-10 mt-1\">\n                    <UserTagging\n                      onUserSelect={handleUserSelect}\n                      onClose={() => setShowUserTagging(false)}\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/* Action Panel */}\n              <div className=\"flex-shrink-0 space-y-3\">\n                {/* Internal Comment Toggle */}\n                <motion.label\n                  className=\"flex items-center space-x-2 cursor-pointer group\"\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <div className=\"relative\">\n                    <input\n                      type=\"checkbox\"\n                      checked={isInternal}\n                      onChange={(e) => setIsInternal(e.target.checked)}\n                      className=\"sr-only\"\n                      disabled={isSubmitting}\n                    />\n                    <div className={`w-5 h-5 rounded-lg border-2 transition-all duration-200 ${\n                      isInternal\n                        ? 'bg-yellow-500 border-yellow-500'\n                        : 'bg-white border-gray-300 group-hover:border-yellow-400'\n                    }`}>\n                      {isInternal && (\n                        <motion.div\n                          initial={{ scale: 0 }}\n                          animate={{ scale: 1 }}\n                          transition={{ duration: 0.2 }}\n                        >\n                          <Lock className=\"w-3 h-3 text-white m-0.5\" />\n                        </motion.div>\n                      )}\n                    </div>\n                  </div>\n                  <span className=\"text-sm font-medium text-gray-700\">Internal</span>\n                </motion.label>\n\n                {/* Mentioned Users */}\n                {mentionedUsers.length > 0 && (\n                  <motion.div\n                    className=\"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs\"\n                    initial={{ scale: 0, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    <AtSign className=\"w-3 h-3\" />\n                    <span>{mentionedUsers.length} mentioned</span>\n                  </motion.div>\n                )}\n\n                {/* Submit Button */}\n                <motion.button\n                  type=\"submit\"\n                  disabled={!commentText.trim() || isSubmitting}\n                  className=\"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-700 text-white rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:from-green-700 hover:to-emerald-800 transition-all duration-300 shadow-lg hover:shadow-xl\"\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                >\n                  {isSubmitting ? (\n                    <motion.div\n                      className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full\"\n                      animate={{ rotate: 360 }}\n                      transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n                    />\n                  ) : (\n                    <Send className=\"w-4 h-4\" />\n                  )}\n                  <span>{isSubmitting ? 'Posting...' : 'Post'}</span>\n                </motion.button>\n              </div>\n            </div>\n          </form>\n        </motion.div>\n      )}\n\n      {/* Comments List - Horizontal Layout */}\n      <div className=\"space-y-4\">\n        <AnimatePresence>\n          {filteredComments.length === 0 ? (\n            <motion.div\n              className=\"text-center py-12 bg-gray-50 rounded-3xl border-2 border-gray-200\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <MessageCircle className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-500 mb-2\">No Comments Yet</h3>\n              <p className=\"text-gray-400\">Be the first to start the discussion!</p>\n            </motion.div>\n          ) : (\n            filteredComments.map((comment, index) => (\n              <motion.div\n                key={comment.id}\n                className={`bg-white rounded-2xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${\n                  comment.isInternal \n                    ? 'border-yellow-200 bg-gradient-to-r from-yellow-50 to-amber-50' \n                    : 'border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50'\n                }`}\n                initial={{ opacity: 0, y: 20, scale: 0.95 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                exit={{ opacity: 0, y: -20, scale: 0.95 }}\n                transition={{ duration: 0.4, delay: index * 0.1 }}\n                whileHover={{ scale: 1.01, y: -2 }}\n              >\n                {/* Horizontal comment layout */}\n                <div className=\"flex items-start space-x-4\">\n                  {/* User Avatar */}\n                  <div className=\"flex-shrink-0\">\n                    <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${\n                      comment.isInternal \n                        ? 'bg-gradient-to-br from-yellow-500 to-amber-600' \n                        : 'bg-gradient-to-br from-blue-500 to-indigo-600'\n                    }`}>\n                      {comment.userAvatar || comment.userName.charAt(0)}\n                    </div>\n                  </div>\n\n                  {/* Comment Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    {/* Header */}\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"flex items-center space-x-3\">\n                        <h4 className=\"font-bold text-gray-900\">{comment.userName}</h4>\n                        {comment.isInternal && (\n                          <div className=\"flex items-center space-x-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium\">\n                            <Lock className=\"w-3 h-3\" />\n                            <span>Internal</span>\n                          </div>\n                        )}\n                        {comment.mentionedUsers && comment.mentionedUsers.length > 0 && (\n                          <div className=\"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium\">\n                            <AtSign className=\"w-3 h-3\" />\n                            <span>{comment.mentionedUsers.length} mentioned</span>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n                        <Clock className=\"w-4 h-4\" />\n                        <span>{formatDate(comment.createdAt)}</span>\n                      </div>\n                    </div>\n\n                    {/* Comment Text */}\n                    <p className=\"text-gray-700 leading-relaxed\">{comment.commentText}</p>\n                  </div>\n                </div>\n              </motion.div>\n            ))\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* Comments Summary */}\n      <motion.div\n        className=\"bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-6 border border-gray-200\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.3, duration: 0.4 }}\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-gray-900\">{comments.length}</div>\n              <div className=\"text-sm text-gray-600\">Total Comments</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-yellow-700\">{comments.filter(c => c.isInternal).length}</div>\n              <div className=\"text-sm text-gray-600\">Internal</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-blue-700\">{comments.filter(c => !c.isInternal).length}</div>\n              <div className=\"text-sm text-gray-600\">Public</div>\n            </div>\n          </div>\n          \n          {comments.length > 0 && (\n            <div className=\"text-right\">\n              <div className=\"text-sm text-gray-600\">Last comment</div>\n              <div className=\"font-medium text-gray-900\">{formatDate(comments[comments.length - 1].createdAt)}</div>\n            </div>\n          )}\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default EnhancedCommentSystem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}