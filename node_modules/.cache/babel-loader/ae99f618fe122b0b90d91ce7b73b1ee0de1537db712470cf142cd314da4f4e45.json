{"ast":null,"code":"// Performance optimization utilities\n// Debounce function for performance-critical events\nexport const debounce=(func,wait)=>{let timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeout);timeout=setTimeout(()=>func(...args),wait);};};// Throttle function for scroll events\nexport const throttle=(func,limit)=>{let inThrottle;return function(){if(!inThrottle){func(...arguments);inThrottle=true;setTimeout(()=>inThrottle=false,limit);}};};// Intersection Observer for lazy loading\nexport const createIntersectionObserver=(callback,options)=>{const defaultOptions={rootMargin:'50px',threshold:0.1,...options};return new IntersectionObserver(callback,defaultOptions);};// Preload critical resources\nexport const preloadCriticalResources=()=>{// Preload critical CSS\nconst criticalCSS=document.createElement('link');criticalCSS.rel='preload';criticalCSS.as='style';criticalCSS.href='/static/css/main.css';document.head.appendChild(criticalCSS);// Preload critical JavaScript\nconst criticalJS=document.createElement('link');criticalJS.rel='preload';criticalJS.as='script';criticalJS.href='/static/js/main.js';document.head.appendChild(criticalJS);};// Optimize images with WebP support detection\nexport const getOptimizedImageSrc=src=>{const supportsWebP=(()=>{const canvas=document.createElement('canvas');canvas.width=1;canvas.height=1;return canvas.toDataURL('image/webp').indexOf('data:image/webp')===0;})();if(supportsWebP&&src.includes('.jpg')||src.includes('.png')){return src.replace(/\\.(jpg|png)$/,'.webp');}return src;};// Memory management for large components\nexport const cleanupComponent=componentName=>{console.log(`ðŸ§¹ Cleaning up ${componentName} component`);// Note: In modern browsers, this cleanup is handled automatically\n// This is kept for legacy support and explicit cleanup\nif(typeof window!=='undefined'){console.log(`Component ${componentName} cleanup completed`);}};// Bundle size analyzer (development only)\nexport const analyzeBundleSize=()=>{if(process.env.NODE_ENV==='development'){console.group('ðŸ“¦ Bundle Analysis');// Analyze loaded scripts\nconst scripts=Array.from(document.querySelectorAll('script[src]'));scripts.forEach(script=>{console.log(`Script: ${script.src}`);});// Analyze loaded stylesheets\nconst stylesheets=Array.from(document.querySelectorAll('link[rel=\"stylesheet\"]'));stylesheets.forEach(link=>{console.log(`Stylesheet: ${link.href}`);});console.groupEnd();}};// Performance monitoring\nexport const monitorPerformance=()=>{if('performance'in window){window.addEventListener('load',()=>{setTimeout(()=>{const perfData=performance.getEntriesByType('navigation')[0];console.group('âš¡ Performance Metrics');console.log(`DNS Lookup: ${(perfData.domainLookupEnd-perfData.domainLookupStart).toFixed(2)}ms`);console.log(`TCP Connection: ${(perfData.connectEnd-perfData.connectStart).toFixed(2)}ms`);console.log(`Request: ${(perfData.responseStart-perfData.requestStart).toFixed(2)}ms`);console.log(`Response: ${(perfData.responseEnd-perfData.responseStart).toFixed(2)}ms`);console.log(`DOM Processing: ${(perfData.domContentLoadedEventEnd-perfData.responseEnd).toFixed(2)}ms`);console.log(`Load Complete: ${(perfData.loadEventEnd-perfData.loadEventStart).toFixed(2)}ms`);console.log(`Total Load Time: ${(perfData.loadEventEnd-perfData.fetchStart).toFixed(2)}ms`);console.groupEnd();},1000);});}};// Initialize performance optimizations\nexport const initializePerformanceOptimizations=()=>{// Preload critical resources\npreloadCriticalResources();// Monitor performance\nmonitorPerformance();// Analyze bundle size in development\nanalyzeBundleSize();console.log('ðŸš€ Performance optimizations initialized');};","map":{"version":3,"names":["debounce","func","wait","timeout","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","throttle","limit","inThrottle","createIntersectionObserver","callback","options","defaultOptions","rootMargin","threshold","IntersectionObserver","preloadCriticalResources","criticalCSS","document","createElement","rel","as","href","head","appendChild","criticalJS","getOptimizedImageSrc","src","supportsWebP","canvas","width","height","toDataURL","indexOf","includes","replace","cleanupComponent","componentName","console","log","window","analyzeBundleSize","process","env","NODE_ENV","group","scripts","from","querySelectorAll","forEach","script","stylesheets","link","groupEnd","monitorPerformance","addEventListener","perfData","performance","getEntriesByType","domainLookupEnd","domainLookupStart","toFixed","connectEnd","connectStart","responseStart","requestStart","responseEnd","domContentLoadedEventEnd","loadEventEnd","loadEventStart","fetchStart","initializePerformanceOptimizations"],"sources":["/Users/mamadouourydiallo/ADFI/src/utils/performanceOptimizations.ts"],"sourcesContent":["// Performance optimization utilities\n\n// Debounce function for performance-critical events\nexport const debounce = <T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): ((...args: Parameters<T>) => void) => {\n  let timeout: NodeJS.Timeout;\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n};\n\n// Throttle function for scroll events\nexport const throttle = <T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): ((...args: Parameters<T>) => void) => {\n  let inThrottle: boolean;\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n};\n\n// Intersection Observer for lazy loading\nexport const createIntersectionObserver = (\n  callback: IntersectionObserverCallback,\n  options?: IntersectionObserverInit\n): IntersectionObserver => {\n  const defaultOptions: IntersectionObserverInit = {\n    rootMargin: '50px',\n    threshold: 0.1,\n    ...options\n  };\n\n  return new IntersectionObserver(callback, defaultOptions);\n};\n\n// Preload critical resources\nexport const preloadCriticalResources = () => {\n  // Preload critical CSS\n  const criticalCSS = document.createElement('link');\n  criticalCSS.rel = 'preload';\n  criticalCSS.as = 'style';\n  criticalCSS.href = '/static/css/main.css';\n  document.head.appendChild(criticalCSS);\n\n  // Preload critical JavaScript\n  const criticalJS = document.createElement('link');\n  criticalJS.rel = 'preload';\n  criticalJS.as = 'script';\n  criticalJS.href = '/static/js/main.js';\n  document.head.appendChild(criticalJS);\n};\n\n// Optimize images with WebP support detection\nexport const getOptimizedImageSrc = (src: string): string => {\n  const supportsWebP = (() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n  })();\n\n  if (supportsWebP && src.includes('.jpg') || src.includes('.png')) {\n    return src.replace(/\\.(jpg|png)$/, '.webp');\n  }\n  \n  return src;\n};\n\n// Memory management for large components\nexport const cleanupComponent = (componentName: string) => {\n  console.log(`ðŸ§¹ Cleaning up ${componentName} component`);\n\n  // Note: In modern browsers, this cleanup is handled automatically\n  // This is kept for legacy support and explicit cleanup\n  if (typeof window !== 'undefined') {\n    console.log(`Component ${componentName} cleanup completed`);\n  }\n};\n\n// Bundle size analyzer (development only)\nexport const analyzeBundleSize = () => {\n  if (process.env.NODE_ENV === 'development') {\n    console.group('ðŸ“¦ Bundle Analysis');\n    \n    // Analyze loaded scripts\n    const scripts = Array.from(document.querySelectorAll('script[src]'));\n    scripts.forEach((script: any) => {\n      console.log(`Script: ${script.src}`);\n    });\n    \n    // Analyze loaded stylesheets\n    const stylesheets = Array.from(document.querySelectorAll('link[rel=\"stylesheet\"]'));\n    stylesheets.forEach((link: any) => {\n      console.log(`Stylesheet: ${link.href}`);\n    });\n    \n    console.groupEnd();\n  }\n};\n\n// Performance monitoring\nexport const monitorPerformance = () => {\n  if ('performance' in window) {\n    window.addEventListener('load', () => {\n      setTimeout(() => {\n        const perfData = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;\n\n        console.group('âš¡ Performance Metrics');\n        console.log(`DNS Lookup: ${(perfData.domainLookupEnd - perfData.domainLookupStart).toFixed(2)}ms`);\n        console.log(`TCP Connection: ${(perfData.connectEnd - perfData.connectStart).toFixed(2)}ms`);\n        console.log(`Request: ${(perfData.responseStart - perfData.requestStart).toFixed(2)}ms`);\n        console.log(`Response: ${(perfData.responseEnd - perfData.responseStart).toFixed(2)}ms`);\n        console.log(`DOM Processing: ${(perfData.domContentLoadedEventEnd - perfData.responseEnd).toFixed(2)}ms`);\n        console.log(`Load Complete: ${(perfData.loadEventEnd - perfData.loadEventStart).toFixed(2)}ms`);\n        console.log(`Total Load Time: ${(perfData.loadEventEnd - perfData.fetchStart).toFixed(2)}ms`);\n        console.groupEnd();\n      }, 1000);\n    });\n  }\n};\n\n// Initialize performance optimizations\nexport const initializePerformanceOptimizations = () => {\n  // Preload critical resources\n  preloadCriticalResources();\n  \n  // Monitor performance\n  monitorPerformance();\n  \n  // Analyze bundle size in development\n  analyzeBundleSize();\n  \n  console.log('ðŸš€ Performance optimizations initialized');\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}