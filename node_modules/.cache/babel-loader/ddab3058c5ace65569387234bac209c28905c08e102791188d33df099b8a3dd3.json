{"ast":null,"code":"class NotificationService {\n  constructor() {\n    this.notifications = [];\n    this.listeners = [];\n  }\n  // Add a new notification\n  addNotification(notification) {\n    var _notification$autoClo, _notification$duratio;\n    const newNotification = {\n      ...notification,\n      id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n      timestamp: new Date(),\n      autoClose: (_notification$autoClo = notification.autoClose) !== null && _notification$autoClo !== void 0 ? _notification$autoClo : true,\n      duration: (_notification$duratio = notification.duration) !== null && _notification$duratio !== void 0 ? _notification$duratio : 5000\n    };\n    this.notifications.push(newNotification);\n    this.notifyListeners();\n\n    // Auto-remove notification if autoClose is enabled\n    if (newNotification.autoClose) {\n      setTimeout(() => {\n        this.removeNotification(newNotification.id);\n      }, newNotification.duration);\n    }\n    return newNotification.id;\n  }\n\n  // Remove a notification\n  removeNotification(id) {\n    this.notifications = this.notifications.filter(notification => notification.id !== id);\n    this.notifyListeners();\n  }\n\n  // Clear all notifications\n  clearAll() {\n    this.notifications = [];\n    this.notifyListeners();\n  }\n\n  // Get all notifications\n  getNotifications() {\n    return [...this.notifications];\n  }\n\n  // Subscribe to notification changes\n  subscribe(listener) {\n    this.listeners.push(listener);\n\n    // Return unsubscribe function\n    return () => {\n      this.listeners = this.listeners.filter(l => l !== listener);\n    };\n  }\n\n  // Notify all listeners\n  notifyListeners() {\n    this.listeners.forEach(listener => listener([...this.notifications]));\n  }\n\n  // Convenience methods for different notification types\n  success(title, message, options) {\n    return this.addNotification({\n      type: 'success',\n      title,\n      message,\n      ...options\n    });\n  }\n  error(title, message, options) {\n    return this.addNotification({\n      type: 'error',\n      title,\n      message,\n      autoClose: false,\n      // Errors should be manually dismissed\n      ...options\n    });\n  }\n  warning(title, message, options) {\n    return this.addNotification({\n      type: 'warning',\n      title,\n      message,\n      ...options\n    });\n  }\n  info(title, message, options) {\n    return this.addNotification({\n      type: 'info',\n      title,\n      message,\n      ...options\n    });\n  }\n\n  // Predefined notifications for common actions\n  requestCreated(refNumber) {\n    return this.success('Request Created', `Withdrawal request ${refNumber} has been created successfully.`);\n  }\n  requestApproved(refNumber) {\n    return this.success('Request Approved', `Withdrawal request ${refNumber} has been approved and moved to Core Banking.`);\n  }\n  requestRejected(refNumber) {\n    return this.warning('Request Rejected', `Withdrawal request ${refNumber} has been rejected and returned to Initial Review.`);\n  }\n  requestDisbursed(refNumber) {\n    return this.success('Request Disbursed', `Withdrawal request ${refNumber} has been successfully disbursed.`);\n  }\n  loginSuccess(userName) {\n    return this.success('Login Successful', `Welcome back, ${userName}! You are now logged in.`);\n  }\n  loginError(reason) {\n    return this.error('Login Failed', reason);\n  }\n  permissionDenied(action) {\n    return this.error('Permission Denied', `You do not have permission to ${action}. Please contact your administrator.`);\n  }\n  validationError(errors) {\n    return this.error('Validation Error', `Please fix the following errors: ${errors.join(', ')}`);\n  }\n  networkError() {\n    return this.error('Network Error', 'Unable to connect to the server. Please check your internet connection and try again.');\n  }\n  unexpectedError() {\n    return this.error('Unexpected Error', 'An unexpected error occurred. Please try again or contact support if the problem persists.');\n  }\n}\nexport const notificationService = new NotificationService();","map":{"version":3,"names":["NotificationService","constructor","notifications","listeners","addNotification","notification","_notification$autoClo","_notification$duratio","newNotification","id","Date","now","toString","Math","random","substr","timestamp","autoClose","duration","push","notifyListeners","setTimeout","removeNotification","filter","clearAll","getNotifications","subscribe","listener","l","forEach","success","title","message","options","type","error","warning","info","requestCreated","refNumber","requestApproved","requestRejected","requestDisbursed","loginSuccess","userName","loginError","reason","permissionDenied","action","validationError","errors","join","networkError","unexpectedError","notificationService"],"sources":["/Users/mamadouourydiallo/ADFI/src/services/notificationService.ts"],"sourcesContent":["import { Notification } from '../types/withdrawalTypes';\n\nclass NotificationService {\n  private notifications: Notification[] = [];\n  private listeners: ((notifications: Notification[]) => void)[] = [];\n\n  // Add a new notification\n  addNotification(notification: Omit<Notification, 'id' | 'timestamp'>): string {\n    const newNotification: Notification = {\n      ...notification,\n      id: Date.now().toString() + Math.random().toString(36).substr(2, 9),\n      timestamp: new Date(),\n      autoClose: notification.autoClose ?? true,\n      duration: notification.duration ?? 5000\n    };\n\n    this.notifications.push(newNotification);\n    this.notifyListeners();\n\n    // Auto-remove notification if autoClose is enabled\n    if (newNotification.autoClose) {\n      setTimeout(() => {\n        this.removeNotification(newNotification.id);\n      }, newNotification.duration);\n    }\n\n    return newNotification.id;\n  }\n\n  // Remove a notification\n  removeNotification(id: string): void {\n    this.notifications = this.notifications.filter(notification => notification.id !== id);\n    this.notifyListeners();\n  }\n\n  // Clear all notifications\n  clearAll(): void {\n    this.notifications = [];\n    this.notifyListeners();\n  }\n\n  // Get all notifications\n  getNotifications(): Notification[] {\n    return [...this.notifications];\n  }\n\n  // Subscribe to notification changes\n  subscribe(listener: (notifications: Notification[]) => void): () => void {\n    this.listeners.push(listener);\n    \n    // Return unsubscribe function\n    return () => {\n      this.listeners = this.listeners.filter(l => l !== listener);\n    };\n  }\n\n  // Notify all listeners\n  private notifyListeners(): void {\n    this.listeners.forEach(listener => listener([...this.notifications]));\n  }\n\n  // Convenience methods for different notification types\n  success(title: string, message: string, options?: Partial<Notification>): string {\n    return this.addNotification({\n      type: 'success',\n      title,\n      message,\n      ...options\n    });\n  }\n\n  error(title: string, message: string, options?: Partial<Notification>): string {\n    return this.addNotification({\n      type: 'error',\n      title,\n      message,\n      autoClose: false, // Errors should be manually dismissed\n      ...options\n    });\n  }\n\n  warning(title: string, message: string, options?: Partial<Notification>): string {\n    return this.addNotification({\n      type: 'warning',\n      title,\n      message,\n      ...options\n    });\n  }\n\n  info(title: string, message: string, options?: Partial<Notification>): string {\n    return this.addNotification({\n      type: 'info',\n      title,\n      message,\n      ...options\n    });\n  }\n\n  // Predefined notifications for common actions\n  requestCreated(refNumber: string): string {\n    return this.success(\n      'Request Created',\n      `Withdrawal request ${refNumber} has been created successfully.`\n    );\n  }\n\n  requestApproved(refNumber: string): string {\n    return this.success(\n      'Request Approved',\n      `Withdrawal request ${refNumber} has been approved and moved to Core Banking.`\n    );\n  }\n\n  requestRejected(refNumber: string): string {\n    return this.warning(\n      'Request Rejected',\n      `Withdrawal request ${refNumber} has been rejected and returned to Initial Review.`\n    );\n  }\n\n  requestDisbursed(refNumber: string): string {\n    return this.success(\n      'Request Disbursed',\n      `Withdrawal request ${refNumber} has been successfully disbursed.`\n    );\n  }\n\n  loginSuccess(userName: string): string {\n    return this.success(\n      'Login Successful',\n      `Welcome back, ${userName}! You are now logged in.`\n    );\n  }\n\n  loginError(reason: string): string {\n    return this.error(\n      'Login Failed',\n      reason\n    );\n  }\n\n  permissionDenied(action: string): string {\n    return this.error(\n      'Permission Denied',\n      `You do not have permission to ${action}. Please contact your administrator.`\n    );\n  }\n\n  validationError(errors: string[]): string {\n    return this.error(\n      'Validation Error',\n      `Please fix the following errors: ${errors.join(', ')}`\n    );\n  }\n\n  networkError(): string {\n    return this.error(\n      'Network Error',\n      'Unable to connect to the server. Please check your internet connection and try again.'\n    );\n  }\n\n  unexpectedError(): string {\n    return this.error(\n      'Unexpected Error',\n      'An unexpected error occurred. Please try again or contact support if the problem persists.'\n    );\n  }\n}\n\nexport const notificationService = new NotificationService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}